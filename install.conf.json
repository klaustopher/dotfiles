[
  {
    "defaults": {
      "link": {
        "relink": true
      }
    }
  },
  {
    "clean": [
      "~",
      "~/.config"
    ]
  },
  {
    "create": [
      "~/.config",
      "~/Projects"
    ]
  },
  {
    "install-brew": true
  },
  {
    "brewfile": [
      "homebrew/Brewfile"
    ]
  },
  {
    "link": {
      "~/.zshrc": "zsh/zshrc.symlink",
      "~/.gitignore": "git/gitignore.symlink",
      "~/.gitconfig": "git/gitconfig.symlink",
      "~/.config/nvim": "nvim/nvim.symlink",
      "~/.irbrc": "ruby/irbrc.symlink",
      "~/.gemrc": "ruby/gemrc.symlink",
      "~/.rvmrc": "ruby/rvmrc.symlink",
      "~/.ssh/config": "openssh/config.symlink",
      "~/Library/Keyboard Layouts/Deutsch (Programmieren).icns": "macos/keyboard-layout/Deutsch (Programmieren).icns",
      "~/Library/Keyboard Layouts/Deutsch (Programmieren).keylayout": "macos/keyboard-layout/Deutsch (Programmieren).keylayout"
    }
  },
  {
    "sudo": [
      {
        "link": {
          "/etc/sudoers.d/klaustopher": "system/sudoers.klaustopher.symlink"
        }
      },
      {
        "shell": [
          {
            "command": "chown root:wheel /etc/sudoers.d/klaustopher",
            "description": "Make sudoers file owned by root",
            "stdout": true,
            "stderr": true
          }
        ]
      }
    ]
  },
  {
    "shell": [
      {
        "command": "sudo chsh -s $(brew --prefix)/bin/zsh $(whoami)",
        "description": "Switch shell to ZSH",
        "stdout": true,
        "stderr": true
      },
      {
        "command": "iterm2/download-shell-integration.sh",
        "description": "Install iTerm2 shell integration script"
      },
      {
        "command": "iterm2/install-profile.sh",
        "description": "Make the profile available in iTerm2"
      },
      {
        "command": "macos/set-defaults.sh",
        "description": "Set macOS defaults"
      },
      {
        "command": "ruby/install-rvm.sh",
        "description": "Install Ruby Version Manager",
        "stdout": true,
        "stderr": true
      },
      {
        "command": "git/create-user-config.sh",
        "description": "Create user config for git",
        "stdout": true,
        "stderr": true,
        "stdin": true
      },
      {
        "command": "source ~/.zshrc",
        "description": "Reload ZSH config"
      }
    ]
  }
]
